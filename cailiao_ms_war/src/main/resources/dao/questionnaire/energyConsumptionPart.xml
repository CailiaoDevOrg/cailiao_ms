<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.whut.cailiao.war.dao.questionnaireTemplate.EnergyConsumptionPartDao">

	<sql id="base_query">
		id,
		powerConsumptionBySlfm,
		coalConsumptionByKbsl,
		powerConsumptionByKbsl,
		energyConsumptionByKbsl,
		powerConsumptionByKbsn,
		energyConsumptionByKbsn,
		powerGenerationUnit
	</sql>

	<!-- 查询 -->
	<select id="findEnergyConsumptionPar" parameterType="java.lang.Integer"
		resultType="EnergyConsumptionPart">
		select
		<include refid="base_query" />
		from
		ms_tb_energyConsumption
		where
		id=#{id}
	</select>

	<!-- 增加 -->
	<insert id="saveEnergyConsumptionPar" parameterType="java.util.Map">
		insert into
		ms_tb_energyConsumption(
		powerConsumptionBySlfm,
		coalConsumptionByKbsl,
		powerConsumptionByKbsl,
		energyConsumptionByKbsl,
		powerConsumptionByKbsn,
		energyConsumptionByKbsn,
		powerGenerationUnit
		)
		values(#{powerConsumptionBySlfm},
		#{coalConsumptionByKbsl},
		#{powerConsumptionByKbsl},
		#{energyConsumptionByKbsl},
		#{powerConsumptionByKbsn},
		#{energyConsumptionByKbsn},
		#{powerGenerationUnit}
		)
	</insert>

	<!-- 删除 -->
	<delete id="deleteEnergyConsumptionPar" parameterType="java.lang.Integer">
		delete
		from ms_tb_energyConsumption
		where id=#{id}

	</delete>

	<!-- 更改 -->
	<update id="updateEnergyConsumptionPar">
		update ms_tb_energyConsumption
		<set>
			<if test="powerConsumptionBySlfm!=null">
				powerConsumptionBySlfm=#{powerConsumptionBySlfm}
			</if>
			<if test="coalConsumptionByKbsl!=null">
				coalConsumptionByKbsl=#{coalConsumptionByKbsl}
			</if>
			<if test="powerConsumptionByKbsl!=null">
				powerConsumptionByKbsl=#{powerConsumptionByKbsl}
			</if>
			<if test="energyConsumptionByKbsl!=null">
				energyConsumptionByKbsl=#{energyConsumptionByKbsl}
			</if>
			<if test="powerConsumptionByKbsn">
				powerConsumptionByKbsn=#{powerConsumptionByKbsn}
			</if>
			<if test="energyConsumptionByKbsn!=null">
				energyConsumptionByKbsn=#{energyConsumptionByKbsn}
			</if>
			<if test="powerGenerationUnit!=null">
				powerGenerationUnit=#{powerGenerationUnit}
			</if>
		</set>
	</update>
</mapper>